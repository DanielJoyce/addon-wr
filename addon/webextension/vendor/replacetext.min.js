'use strict';(function($){$.fn.replaceText=function(search,replace){var _this=this;var width=RegExp(search.source+'|').exec('').length-1;var rep=$.isFunction(replace)?replace:function(){return replace};var clone=!$.isFunction(replace);var textNode=function textNode(node){var tokens=node.nodeValue.split(search);if(tokens.length<2)return false;var output=[];for(var i=0;i+width+1<tokens.length;i+=width+1){var child=rep.apply(_this,tokens.slice(i+1,i+1+width))||'';output=output.concat(tokens[i],child)}output.push(tokens[tokens.length-1]);var nodes=[];var text='';output.forEach(function(item){if($.type(item)!=='string'){if(text)nodes.push(document.createTextNode(text));nodes.push(clone?item.clone(true):item);text=''}else text+=item});if(text)nodes.push(document.createTextNode(text));return $(node).before(nodes)&&true};return this.each(function(){var remove=[];for(var node=this.firstChild;node;node=node.nextSibling){if(node.nodeType==document.TEXT_NODE&&textNode(node)){remove.push(node)}}$(remove).remove()})}})(jQuery);
